# Backend service upstreams with load balancing
upstream auth-service {
    server auth-service:8080 max_fails=3 fail_timeout=30s;
}

upstream order-service {
    server order-service:8081 max_fails=3 fail_timeout=30s;
}

upstream product-service {
    server product-service:8082 max_fails=3 fail_timeout=30s;
}

upstream cart-service {
    server cart-service:8083 max_fails=3 fail_timeout=30s;
}

upstream payment-service {
    server payment-service:8084 max_fails=3 fail_timeout=30s;
}

upstream image-service {
    server image-service:8085 max_fails=3 fail_timeout=30s;
}
